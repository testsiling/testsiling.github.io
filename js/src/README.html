<h1 id="section"><a href="https://khan.github.io/KaTeX/"><img src="https://khan.github.io/KaTeX/katex-logo.svg" width="130" alt="KaTeX"></a></h1>
<p><a href="https://travis-ci.org/Khan/KaTeX"><img src="https://travis-ci.org/Khan/KaTeX.svg?branch=master" alt="Build Status" /></a> <a href="https://codecov.io/gh/Khan/KaTeX"><img src="https://codecov.io/gh/Khan/KaTeX/branch/master/graph/badge.svg" alt="codecov" /></a> <a href="https://gitter.im/Khan/KaTeX?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/Khan/KaTeX" /></a></p>
<p>KaTeX is a fast, easy-to-use JavaScript library for TeX math rendering on the web.</p>
<ul>
<li><strong>Fast:</strong> KaTeX renders its math synchronously and doesn’t need to reflow the page. See how it compares to a competitor in <a href="http://www.intmath.com/cg5/katex-mathjax-comparison.php">this speed test</a>.</li>
<li><strong>Print quality:</strong> KaTeX’s layout is based on Donald Knuth’s TeX, the gold standard for math typesetting.</li>
<li><strong>Self contained:</strong> KaTeX has no dependencies and can easily be bundled with your website resources.</li>
<li><strong>Server side rendering:</strong> KaTeX produces the same output regardless of browser or environment, so you can pre-render expressions using Node.js and send them as plain HTML.</li>
</ul>
<p>KaTeX supports all major browsers, including Chrome, Safari, Firefox, Opera, Edge, and IE 9 - IE 11. More information can be found on the <a href="https://khan.github.io/KaTeX/function-support.html">list of supported commands</a> and on the <a href="https://github.com/khan/katex/wiki">wiki</a>.</p>
<h2 id="usage">Usage</h2>
<p>You can <a href="https://github.com/khan/katex/releases">download KaTeX</a> and host it on your server or include the <code>katex.min.js</code> and <code>katex.min.css</code> files on your page directly from a CDN:</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta1/katex.min.css&quot;</span><span class="ot"> integrity=</span><span class="st">&quot;sha384-VEnyslhHLHiYPca9KFkBB3CMeslnM9CzwjxsEbZTeA21JBm7tdLwKoZmCt3cZTYD&quot;</span><span class="ot"> crossorigin=</span><span class="st">&quot;anonymous&quot;</span><span class="kw">&gt;</span>
<span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta1/katex.min.js&quot;</span><span class="ot"> integrity=</span><span class="st">&quot;sha384-O4hpKqcplNCe+jLuBVEXC10Rn1QEqAmX98lKAIFBEDxZI0a+6Z2w2n8AEtQbR4CD&quot;</span><span class="ot"> crossorigin=</span><span class="st">&quot;anonymous&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></code></pre></div>
<h4 id="in-browser-rendering">In-browser rendering</h4>
<p>Call <code>katex.render</code> with a TeX expression and a DOM element to render into:</p>
<div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="va">katex</span>.<span class="at">render</span>(<span class="st">&quot;c = </span><span class="sc">\\</span><span class="st">pm</span><span class="sc">\\</span><span class="st">sqrt{a^2 + b^2}&quot;</span><span class="op">,</span> element)<span class="op">;</span></code></pre></div>
<p>If KaTeX can’t parse the expression, it throws a <code>katex.ParseError</code> error.</p>
<h4 id="server-side-rendering-or-rendering-to-a-string">Server side rendering or rendering to a string</h4>
<p>To generate HTML on the server or to generate an HTML string of the rendered math, you can use <code>katex.renderToString</code>:</p>
<div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="kw">var</span> html <span class="op">=</span> <span class="va">katex</span>.<span class="at">renderToString</span>(<span class="st">&quot;c = </span><span class="sc">\\</span><span class="st">pm</span><span class="sc">\\</span><span class="st">sqrt{a^2 + b^2}&quot;</span>)<span class="op">;</span>
<span class="co">// &#39;&lt;span class=&quot;katex&quot;&gt;...&lt;/span&gt;&#39;</span></code></pre></div>
<p>Make sure to include the CSS and font files, but there is no need to include the JavaScript. Like <code>render</code>, <code>renderToString</code> throws if it can’t parse the expression.</p>
<h4 id="security">Security</h4>
<p>Any HTML generated by KaTeX <em>should</em> be safe from <code>&lt;script&gt;</code> or other code injection attacks. (See <code>maxSize</code> below for preventing large width/height visual affronts.) Of course, it is always a good idea to sanitize the HTML, though you will need a rather generous whitelist (including some of SVG and MathML) to support all of KaTeX.</p>
<h4 id="handling-errors">Handling errors</h4>
<p>If KaTeX encounters an error (invalid or unsupported LaTeX), then it will throw an exception of type <code>katex.ParseError</code>. The message in this error includes some of the LaTeX source code, so needs to be escaped if you want to render it to HTML. In particular, you should convert <code>&amp;</code>, <code>&lt;</code>, <code>&gt;</code> characters to <code>&amp;amp;</code>, <code>&amp;lt;</code>, <code>&amp;gt;</code> (e.g., using <code>_.escape</code>) before including either LaTeX source code or exception messages in your HTML/DOM. (Failure to escape in this way makes a <code>&lt;script&gt;</code> injection attack possible if your LaTeX source is untrusted.)</p>
<h4 id="rendering-options">Rendering options</h4>
<p>You can provide an object of options as the last argument to <code>katex.render</code> and <code>katex.renderToString</code>. Available options are:</p>
<ul>
<li><code>displayMode</code>: <code>boolean</code>. If <code>true</code> the math will be rendered in display mode, which will put the math in display style (so <code>\int</code> and <code>\sum</code> are large, for example), and will center the math on the page on its own line. If <code>false</code> the math will be rendered in inline mode. (default: <code>false</code>)</li>
<li><code>throwOnError</code>: <code>boolean</code>. If <code>true</code>, KaTeX will throw a <code>ParseError</code> when it encounters an unsupported command. If <code>false</code>, KaTeX will render the unsupported command as text in the color given by <code>errorColor</code>. (default: <code>true</code>)</li>
<li><code>errorColor</code>: <code>string</code>. A color string given in the format <code>&quot;#XXX&quot;</code> or <code>&quot;#XXXXXX&quot;</code>. This option determines the color which unsupported commands are rendered in. (default: <code>#cc0000</code>)</li>
<li><code>macros</code>: <code>object</code>. A collection of custom macros. Each macro is a property with a name like <code>\name</code> (written <code>&quot;\\name&quot;</code> in JavaScript) which maps to a string that describes the expansion of the macro. Single-character keys can also be included in which case the character will be redefined as the given macro (similar to TeX active characters).</li>
<li><code>colorIsTextColor</code>: <code>boolean</code>. If <code>true</code>, <code>\color</code> will work like LaTeX’s <code>\textcolor</code>, and take two arguments (e.g., <code>\color{blue}{hello}</code>), which restores the old behavior of KaTeX (pre-0.8.0). If <code>false</code> (the default), <code>\color</code> will work like LaTeX’s <code>\color</code>, and take one argument (e.g., <code>\color{blue}hello</code>). In both cases, <code>\textcolor</code> works as in LaTeX (e.g., <code>\textcolor{blue}{hello}</code>).</li>
<li><code>maxSize</code>: <code>number</code>. If non-zero, all user-specified sizes, e.g. in <code>\rule{500em}{500em}</code>, will be capped to <code>maxSize</code> ems. Otherwise, users can make elements and spaces arbitrarily large (the default behavior).</li>
</ul>
<p>For example:</p>
<div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="va">katex</span>.<span class="at">render</span>(<span class="st">&quot;c = </span><span class="sc">\\</span><span class="st">pm</span><span class="sc">\\</span><span class="st">sqrt{a^2 + b^2}</span><span class="sc">\\</span><span class="st">in</span><span class="sc">\\</span><span class="st">RR&quot;</span><span class="op">,</span> element<span class="op">,</span> <span class="op">{</span>
  <span class="dt">displayMode</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>
  <span class="dt">macros</span><span class="op">:</span> <span class="op">{</span>
    <span class="st">&quot;</span><span class="sc">\\</span><span class="st">RR&quot;</span><span class="op">:</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">mathbb{R}&quot;</span>
  <span class="op">}</span>
<span class="op">}</span>)<span class="op">;</span></code></pre></div>
<h4 id="automatic-rendering-of-math-on-a-page">Automatic rendering of math on a page</h4>
<p>Math on the page can be automatically rendered using the auto-render extension. See <a href="contrib/auto-render/README.md">the Auto-render README</a> for more information.</p>
<h4 id="font-size-and-lengths">Font size and lengths</h4>
<p>By default, KaTeX math is rendered in a 1.21× larger font than the surrounding context, which makes super- and subscripts easier to read. You can control this using CSS, for example:</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css"><span class="fl">.katex</span> <span class="kw">{</span> <span class="kw">font-size:</span> <span class="dt">1.1em</span><span class="kw">;</span> <span class="kw">}</span></code></pre></div>
<p>KaTeX supports all TeX units, including absolute units like <code>cm</code> and <code>in</code>. Absolute units are currently scaled relative to the default TeX font size of 10pt, so that <code>\kern1cm</code> produces the same results as <code>\kern2.845275em</code>. As a result, relative and absolute units are both uniformly scaled relative to LaTeX with a 10pt font; for example, the rectangle <code>\rule{1cm}{1em}</code> has the same aspect ratio in KaTeX as in LaTeX. However, because most browsers default to a larger font size, this typically means that a 1cm kern in KaTeX will appear larger than 1cm in browser units.</p>
<h3 id="common-issues">Common Issues</h3>
<ul>
<li>Many Markdown preprocessors, such as the one that Jekyll and GitHub Pages use, have a “smart quotes” feature. This changes <code>'</code> to <code>’</code> which is an issue for math containing primes, e.g. <code>f'</code>. This can be worked around by defining a single character macro which changes them back, e.g. <code>{&quot;’&quot;, &quot;'&quot;}</code>.</li>
<li>KaTeX follows LaTeX’s rendering of <code>aligned</code> and <code>matrix</code> environments unlike MathJax. When displaying fractions one above another in these vertical layouts there may not be enough space between rows for people who are used to MathJax’s rendering. The distance between rows can be adjusted by using <code>\\[0.1em]</code> instead of the standard line separator distance.</li>
<li>KaTeX does not support the <code>align</code> environment because LaTeX doesn’t support <code>align</code> in math mode. The <code>aligned</code> environment offers the same functionality but in math mode, so use that instead or define a macro that maps <code>align</code> to <code>aligned</code>.</li>
</ul>
<h2 id="libraries">Libraries</h2>
<h3 id="angular2">Angular2+</h3>
<ul>
<li><a href="https://github.com/garciparedes/ng-katex">ng-katex</a> Angular module to write beautiful math expressions with TeX syntax boosted by KaTeX library</li>
</ul>
<h3 id="ruby">Ruby</h3>
<ul>
<li><a href="https://github.com/glebm/katex-ruby">katex-ruby</a> Provides server-side rendering and integration with popular Ruby web frameworks (Rails, Hanami, and anything that uses Sprockets).</li>
</ul>
<h2 id="contributing">Contributing</h2>
<p>See <a href="CONTRIBUTING.md" class="uri">CONTRIBUTING.md</a></p>
<h2 id="license">License</h2>
<p>KaTeX is licensed under the <a href="http://opensource.org/licenses/MIT">MIT License</a>.</p>
